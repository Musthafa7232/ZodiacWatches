<!DOCTYPE html>
<html lang="en">
<%- include('../../partials/head.ejs') %>

  <body class="admin-body">
    <%- include('../../partials/admin/admin-navbar.ejs') %>

      <div class="sidebar position-fixed start-0">
        <div class="vh-100  d-flex flex-column justify-content-center align-items-center g-2 bg-black">
          <div class="col-12 py-4 text-center">
            <a class="text-decoration-none  text-white" href="/admin/home">Dashboard</a>
          </div>
          <div class="col-12 py-4 text-center ">
            <a class="text-decoration-none fw-bold text-white" href="/admin/products">products</a>
          </div>
          <div class="col-12 py-4 text-center">
            <a class="text-decoration-none  text-white" href="/admin/users">Users</a>
          </div>
          <div class="col-12 py-4 text-center">
            <a class="text-decoration-none  text-white" href="/admin/category">Category</a>
          </div>
          <div class="col-12 py-4 text-center">
            <a class="text-decoration-none  text-white" href="/admin/Coupons">Coupons</a>
          </div>
          <div class="col-12 py-4 text-center">
            <a class="text-decoration-none   text-white" href="/admin/banners">Banners</a>
          </div>

        </div>
      </div>
      <div class="d-flex justify-content-end ">
        <a href="/admin/addProducts" class="btn btn-outline-info block-button my-3">Add Product</a>
      </div>

      <section class="container pt-5">
        <div class="row ">
          <div class="col-12 table-responsive ">
            <table id="datatable" class="table display table-overflow  table-borderless table-hover">
              <thead>
                <tr>
                  <th class="" scope="col">#</th>
                  <th class="" scope="col">Product Name</th>
                  <th class="" scope="col">Brand</th>
                  <th class="" scope="col">Price</th>
                  <th class="" scope="col">Category</th>
                  <th class="" scope="col">Highlights</th>
                  <th class="" scope="col">Colour</th>
                  <th class="" scope="col">total Stock</th>
                  <th class="" scope="col">Image</th>
                  <th class="" scope="col">Action</th>
                </tr>
              </thead>
              <tbody>
                <% if(products.length>0){ %>
                  <% var count=1 %>
                    <% products.forEach(items=> { %>
                <tr>
                  <th class="" scope="row">
                    <%= count++ %>
                  </th>
                  <td class="">
                   <%= items.productName %>
                  </td>
                  <td class="">
                    <%= items.brand %>
                  </td>
                  <td class="">
                    <%= items.price %>
                  </td>
                  <td class="">
                    <%= items.categoryId.categoryName %>
                  </td>
                  <td class="">
                    <%= items.highlights %>
                  </td>
                  <td class="">
                    <%= items.colour %>
                  </td>
                  <td class="">
                    <%= items.totalStock %>
                  </td>
                  <td class="">
                   <img class="productImage" src="/<%= items.images[0] %>" >
                  </td>
                  <td class="">
                    <div class="pt-auto">

                      <a href="/admin/editproducts/<%= items._id %>" class="btn btn-info block-button text-decoration-none mb-2" id="block-button">Edit</a>
                      <button class="btn btn-danger block-button" id="delete<%= count %>" onclick="deleteProducts(this.id)" data-url="<%= items._id %>">Delete</button>

                    </div>
                  </td>
                </tr>
                <% }) %>
                        <% } %>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
      <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
      <script src="/scripts/adminScript.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
  </body>

</html>