<!DOCTYPE html>
<html lang="en">
<%- include('../../partials/head.ejs') %>

  <body class="admin-body">
    <%- include('../../partials/admin/admin-navbar.ejs') %>

      <div class="sidebar position-fixed start-0">
        <div class="vh-100  d-flex flex-column justify-content-center align-items-center g-2 bg-black">
          <div class="col-12 py-4 text-center">
            <a class="text-decoration-none text-white" href="/admin/home">Dashboard</a>
          </div>
          <div class="col-12 py-4 text-center ">
            <a class="text-decoration-none text-white" href="/admin/products">products</a>
          </div>
          <div class="col-12 py-4 text-center">
            <a class="text-decoration-none  text-white" href="/admin/users">Users</a>
          </div>
          <div class="col-12 py-4 text-center">
            <a class="text-decoration-none  fw-bold  text-white" href="/admin/category">Category</a>
          </div>
          <div class="col-12 py-4 text-center">
            <a class="text-decoration-none    text-white" href="/admin/coupons">Coupons</a>
          </div>
          <div class="col-12 py-4 text-center">
            <a class="text-decoration-none   text-white" href="/admin/banners">Banners</a>
          </div>
        </div>
      </div>

      <section class="container pt-5">
        <div class="row ">
          <div class="col-12 table-responsive ">
            <table id="datatable" class="table display table-overflow  table-borderless table-hover">
              <thead>
                <tr>
                  <th class="" scope="col">#</th>
                  <th class="" scope="col">Category Name</th>
                  <th class="" scope="col">Action</th>


                </tr>
              </thead>
              <tbody>

                <% if(category.length>0){ %>
                  <% var count=1 %>
                    <% category.forEach(items=> { %>
                      <tr>
                        <th scope="row">
                          <%= count++ %>
                        </th>
                        <td>
                          <%= items.categoryName %>
                        </td>
                        <td>
                          <div>
                            <button class="btn btn-outline-danger" id="delete<%= count %> "
                              onclick="deleteCategory(this.id)" data-url="<%= items._id %>">Delete</button>
                          </div>
                        </td>
                      </tr>
                      <% }) %>
                        <% } %>
              </tbody>
            </table>
          </div>
        </div>
        <div>
          <div class="mt-3">
            <form action="/admin/category/add" method="post">
              <h5 class="form-label  text-info-emphasis text-center" for="form2Example17">Add New Category</h5>
              <span class="text-danger">
                <%= message %>
              </span>
              <div class="d-flex mb-5">
                <input class="form-control form-control-lg text-secondary" name="category" type="text"
                  placeholder="Category Name" />
                <button class="btn btn-outline-info btn-sm" type="submit"> Add </button>
              </div>
            </form>
          </div>
      </section>

      <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
      <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
      <script src="/scripts/adminScript.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"></script>
  </body>

</html>